# ===== CONFIGURAÇÕES PRINCIPAIS =====

# Configurações do Banco de Dados da Aplicação (PostgreSQL)
POSTGRES_DB=rjchronosdb
POSTGRES_USER=user
POSTGRES_PASSWORD=changeme

# Segredo para assinar os cookies da UI do GenieACS
# Use um valor longo e aleatório aqui no seu arquivo .env local
UI_JWT_SECRET=changeme-super-secret-key-12345

# RabbitMQ Credentials
RABBITMQ_DEFAULT_USER=user
RABBITMQ_DEFAULT_PASS=password

# Redis Password
REDIS_PASSWORD=password

# ===== CONFIGURAÇÕES DE INFRAESTRUTURA =====

# URLs e Hosts dos Serviços (para desenvolvimento local, manter como localhost)
RABBITMQ_HOST=rabbitmq
RABBITMQ_PORT=5672
REDIS_HOST=redis

# URLs completas (construídas automaticamente, mas podem ser customizadas)
DATABASE_URL=postgresql://${POSTGRES_USER}:${POSTGRES_PASSWORD}@db-app:5432/${POSTGRES_DB}
RABBITMQ_URL=amqp://${RABBITMQ_DEFAULT_USER}:${RABBITMQ_DEFAULT_PASS}@rabbitmq:5672
GENIACS_API_URL=http://genieacs:7557/

# ===== EDGE (Bun + Elysia + Better Auth) =====

# Endereco interno do Core FastAPI para o Edge
BACKEND_INTERNAL_URL=http://backend:8000
GENIEACS_UI_INTERNAL_URL=http://genieacs:3000

# Configuracao do Edge
EDGE_HOST=0.0.0.0
EDGE_PORT=8081

# Better Auth
BETTER_AUTH_DATABASE_URL=${DATABASE_URL}
BETTER_AUTH_BASE_PATH=/api/auth
BETTER_AUTH_BASE_URL=
BETTER_AUTH_TRUSTED_ORIGINS=

# Proxy opcional para auth legado
EDGE_LEGACY_AUTH_PROXY_ENABLED=false
EDGE_LEGACY_AUTH_PROXY_HEADER=x-legacy-auth
EDGE_LEGACY_AUTH_PROXY_TOKEN=

# ===== SISTEMA DE LOGGING (NOVO) =====

# ClickHouse para logs operacionais
CLICKHOUSE_HOST=clickhouse
CLICKHOUSE_PORT=8123
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=
CLICKHOUSE_DATABASE=logs

# Configurações de performance do ClickHouse
CLICKHOUSE_BATCH_SIZE=1000
CLICKHOUSE_BATCH_TIMEOUT=30

# Configurações de RabbitMQ para logging
RABBITMQ_EXCHANGE=system.logs
RABBITMQ_CRITICAL_QUEUE=logs.postgresql.critical
RABBITMQ_OPERATIONAL_QUEUE=logs.clickhouse.operational
RABBITMQ_PREFETCH_COUNT=10
RABBITMQ_TIMEOUT=30

# Configurações de performance do PostgreSQL
DB_ECHO=false
DB_POOL_SIZE=10
DB_MAX_OVERFLOW=20

# Configurações gerais de logging
LOGGING_CONFIG_PATH=config/logging.yml
LOG_DIR=/var/log

# === OLT Manager Huawei - Configurações ===

# SNMP Community para traps (padrão: public)
SNMP_COMMUNITY=1wAdehYft0c[

# OLT para testes (deixe vazio se não estiver testando com OLT específica)
TEST_OLT_IP=

# Modelo da OLT para testes (padrão: MA5600T)
TEST_OLT_MODEL=MA5600T

# Mapeamento de múltiplas OLTs em produção (formato JSON)
# Exemplo: {"192.168.1.1": "MA5600T", "192.168.1.2": "MA5800"}
OLT_IP_MODEL_MAPPING={}

# ===== SEGURANÇA DE CREDENCIAIS =====

# Chave mestra para criptografia de credenciais SSH/SNMP
# IMPORTANTE: Use uma chave forte e aleatória de pelo menos 32 caracteres
# Gere com: openssl rand -base64 32
# NUNCA compartilhe esta chave ou commite no repositório
CREDENTIAL_ENCRYPTION_KEY=changeme-generate-secure-32char-key-here-please!
